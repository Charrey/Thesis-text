\chapter{Conclusion}
\label{chapter:conclusion}
In this research, we aimed to investigate how to map a configuration for a virtual FPGA to one usable for a real-life concrete FPGA. One goal of such emulation is allowing college students to learn about the FPGA compilation and synthesis process using a simple, easy-to-understand FPGA but still running their configurations on real hardware. Moreover, this problem fits within the greater research area of partial FPGA compilation: abstracting parts of an FPGA away such that they may be used for other purposes.  We reduced this emulation problem to `subgraph homeomorphism', an NP-complete graph problem. This is a problem for which several algorithms existed, but none met the space- and computational requirements needed for the scale of the inputs (graphs of the FPGAs). Because of this, we decided to create an algorithm that does meet the requirements. We took inspiration from the algorithm ndSHD2: an algorithm that has minimum exponential space requirements. We create a similar algorithm that only has polynomial space requirements (or even linear under some settings). To improve our chances of finding subgraph homeomorphisms, we added several optimisations: refusing paths using unnecessarily many FPGA resources, contraction, AllDifferent pruning and various ways to order vertices in either graph. We found that each of these optimisations (except distance-based target graph vertex ordering) may reduce the time spent on finding homeomorphisms.

To answer our first research subquestion, we benchmarked the performance of this algorithm with optimal settings and extrapolate that cases similar to the business case will take approximately 39 minutes' time. Furthermore, it requires an amount of memory for this computation that is found in every desktop computer. This is reasonable for an FPGA education environment since this only has to be computed once before an emulation mapping is found on a machine with a realistic amount of memory. Unfortunately, our algorithm showed there is no subgraph homeomorphism from our virtual FPGA model to an ECP5 tile, or to blocks of up to 3-by-3 times. Since we were not able to find a subgraph homeomorphism between the FPGAs of the business case yet, we are unable to answer our second research subquestion: how many resources of the concrete FPGA are needed for each virtual logic case. We can, however, conclude a lower bound of 9 ECP5 tiles needed for a single virtual logic cell\footnote{other layouts of 9 tiles or less that do not fit within a 3-by-3 grid might yield subgraph homeomorphisms for our business case; however, there are many of such layouts.}

The algorithm we proposed is also applicable for graphs outside of the FPGA emulation domain. While the conclusions we make from our experiments are based on graphs representing FPGAs with their structure, our software toolbox with individually changeable settings allows for benchmarks on other graphs as well. Our software (or other software created with our methodology) can be used to establish the appropriate configuration for any other domain reducible to subgraph homeomorphism.

Based on this algorithm, we establish a methodology to obtain a mapping for linear time emulation of virtual FPGAs on concrete FPGAs.